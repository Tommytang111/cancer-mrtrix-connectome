import numpy as np
import pathlib

def main(csv_file, output_file):
    """
    Generates the mean of a csv file and writes a txt file with a single value.
    """
    #Load files
    csv = np.loadtxt(csv_file, skiprows=1, delimiter=',')
    #Take mean
    mean = np.nanmean(csv)
    #Write new file
    output = open(output_file, "w+")
    output.write(str(mean))
    output.close()
    
file = pathlib.Path().absolute()
subject_file = str(file)[-4:]

for i in ["L_PCC32-34-33", "L_mPFC63", "L_MTL23", "L_AG151-150-149-148-25-28-145-144", "L_DPG73-87-84-86-83-85", "L_ACC180", "L_PPC143-151-150-149-116-147-146-145-144", "R_PCC212-214-213", "R_mPFC243", "R_MTL203", "R_AG331-330-329-328-205-208-325-324", "R_DPG253-267-264-266-263-265", "R_ACC359", "R_PPC323-331-330-329-296-327-326-325-324", "L_PCC32-34-33_mPFC63_combined", "L_PCC32-34-33_MTL23_combined", "L_PCC32-34-33_AG151-150-149-148-25-28-145-144_combined", "L_PCC32-34-33_DPG73-87-84-86-83-85_combined", "L_PCC32-34-33_ACC180_combined", "L_PCC32-34-33_PPC143-151-150-149-116-147-146-145-144_combined", "L_mPFC63_MTL23_combined", "L_mPFC63_AG151-150-149-148-25-28-145-144_combined", "L_mPFC63_DPG73-87-84-86-83-85_combined", "L_mPFC63_ACC180_combined", "L_mPFC63_PPC143-151-150-149-116-147-146-145-144_combined", "L_MTL23_AG151-150-149-148-25-28-145-144_combined", "L_MTL23_DPG73-87-84-86-83-85_combined", "L_MTL23_ACC180_combined", "L_MTL23_PPC143-151-150-149-116-147-146-145-144_combined", "L_AG151-150-149-148-25-28-145-144_DPG73-87-84-86-83-85_combined", "L_AG151-150-149-148-25-28-145-144_ACC180_combined", "L_AG151-150-149-148-25-28-145-144_PPC143-151-150-149-116-147-146-145-144_combined", "L_DPG73-87-84-86-83-85_ACC180_combined", "L_DPG73-87-84-86-83-85_PPC143-151-150-149-116-147-146-145-144_combined", "L_ACC180_PPC143-151-150-149-116-147-146-145-144_combined", "R_PCC212-214-213_mPFC243_combined", "R_PCC212-214-213_MTL203_combined", "R_PCC212-214-213_AG331-330-329-328-205-208-325-324_combined", "R_PCC212-214-213_DPG253-267-264-266-263-265_combined", "R_PCC212-214-213_ACC359_combined", "R_PCC212-214-213_PPC323-331-330-329-296-327-326-325-324_combined", "R_mPFC243_MTL203_combined", "R_mPFC243_AG331-330-329-328-205-208-325-324_combined", "R_mPFC243_DPG253-267-264-266-263-265_combined", "R_mPFC243_ACC359_combined", "R_mPFC243_PPC323-331-330-329-296-327-326-325-324_combined", "R_MTL203_AG331-330-329-328-205-208-325-324_combined", "R_MTL203_DPG253-267-264-266-263-265_combined", "R_MTL203_ACC359_combined", "R_MTL203_PPC323-331-330-329-296-327-326-325-324_combined", "R_AG331-330-329-328-205-208-325-324_DPG253-267-264-266-263-265_combined",
"R_AG331-330-329-328-205-208-325-324_ACC359_combined", "R_AG331-330-329-328-205-208-325-324_PPC323-331-330-329-296-327-326-325-324_combined", "R_DPG253-267-264-266-263-265_ACC359_combined", "R_DPG253-267-264-266-263-265_PPC323-331-330-329-296-327-326-325-324_combined", "R_ACC359_PPC323-331-330-329-296-327-326-325-324_combined", "L_AG151-150-149-148-25-28-145-144_R_AG331-330-329-328-205-208-325-324_combined", "L_PCC32-34-33_R_PCC212-214-213_combined", "L_DPG73-87-84-86-83-85_R_DPG253-267-264-266-263-265_combined", "L_PPC143-151-150-149-116-147-146-145-144_R_PPC323-331-330-329-296-327-326-325-324_combined", "L_mPFC63_R_mPFC243_combined", "L_MTL23_R_MTL203_combined", "L_ACC180_R_ACC359_combined", "L_PCC32-34-33_R_PCC212-214-213_combined", "L_PCC32-34-33_R_mPFC243_combined", "L_PCC32-34-33_R_MTL203_combined", "L_PCC32-34-33_R_AG331-330-329-328-205-208-325-324_combined", "L_PCC32-34-33_R_DPG253-267-264-266-263-265_combined", "L_PCC32-34-33_R_ACC359_combined", "L_PCC32-34-33_R_PPC323-331-330-329-296-327-326-325-324_combined", "L_mPFC63_R_PCC212-214-213_combined", "L_mPFC63_R_mPFC243_combined", "L_mPFC63_R_MTL203_combined", "L_mPFC63_R_AG331-330-329-328-205-208-325-324_combined", "L_mPFC63_R_DPG253-267-264-266-263-265_combined", "L_mPFC63_R_ACC359_combined", "L_mPFC63_R_PPC323-331-330-329-296-327-326-325-324_combined", "L_MTL23_R_PCC212-214-213_combined", "L_MTL23_R_mPFC243_combined", "L_MTL23_R_MTL203_combined", "L_MTL23_R_AG331-330-329-328-205-208-325-324_combined", "L_MTL23_R_DPG253-267-264-266-263-265_combined", "L_MTL23_R_ACC359_combined", "L_MTL23_R_PPC323-331-330-329-296-327-326-325-324_combined", "L_AG151-150-149-148-25-28-145-144_R_PCC212-214-213_combined", "L_AG151-150-149-148-25-28-145-144_R_mPFC243_combined", "L_AG151-150-149-148-25-28-145-144_R_MTL203_combined", "L_AG151-150-149-148-25-28-145-144_R_AG331-330-329-328-205-208-325-324_combined", "L_AG151-150-149-148-25-28-145-144_R_DPG253-267-264-266-263-265_combined", "L_AG151-150-149-148-25-28-145-144_R_ACC359_combined", "L_AG151-150-149-148-25-28-145-144_R_PPC323-331-330-329-296-327-326-325-324_combined", "L_DPG73-87-84-86-83-85_R_PCC212-214-213_combined", "L_DPG73-87-84-86-83-85_R_mPFC243_combined", "L_DPG73-87-84-86-83-85_R_MTL203_combined", "L_DPG73-87-84-86-83-85_R_AG331-330-329-328-205-208-325-324_combined", "L_DPG73-87-84-86-83-85_R_DPG253-267-264-266-263-265_combined", "L_DPG73-87-84-86-83-85_R_ACC359_combined", "L_DPG73-87-84-86-83-85_R_PPC323-331-330-329-296-327-326-325-324_combined", "L_ACC180_R_PCC212-214-213_combined", "L_ACC180_R_mPFC243_combined", "L_ACC180_R_MTL203_combined", "L_ACC180_R_AG331-330-329-328-205-208-325-324_combined", "L_ACC180_R_DPG253-267-264-266-263-265_combined", "L_ACC180_R_ACC359_combined", "L_ACC180_R_PPC323-331-330-329-296-327-326-325-324_combined", "L_PPC143-151-150-149-116-147-146-145-144_R_PCC212-214-213_combined", "L_PPC143-151-150-149-116-147-146-145-144_R_mPFC243_combined", "L_PPC143-151-150-149-116-147-146-145-144_R_MTL203_combined", "L_PPC143-151-150-149-116-147-146-145-144_R_AG331-330-329-328-205-208-325-324_combined", "L_PPC143-151-150-149-116-147-146-145-144_R_DPG253-267-264-266-263-265_combined", "L_PPC143-151-150-149-116-147-146-145-144_R_ACC359_combined", "L_PPC143-151-150-149-116-147-146-145-144_R_PPC323-331-330-329-296-327-326-325-324_combined"]:              
	main('/media/mabbottlab/temp_backup/Tommy/DTIs-analysis/'+subject_file+'/'+subject_file+'_stats/'+subject_file+'_'+i+'_tck_fa.csv', '/media/mabbottlab/temp_backup/Tommy/DTIs-analysis/'+subject_file+'/'+subject_file+'_stats/'+subject_file+'_'+i+'_tck_mean_fa.txt')
	main('/media/mabbottlab/temp_backup/Tommy/DTIs-analysis/'+subject_file+'/'+subject_file+'_stats/'+subject_file+'_'+i+'_tck_ad.csv', '/media/mabbottlab/temp_backup/Tommy/DTIs-analysis/'+subject_file+'/'+subject_file+'_stats/'+subject_file+'_'+i+'_tck_mean_ad.txt')
	main('/media/mabbottlab/temp_backup/Tommy/DTIs-analysis/'+subject_file+'/'+subject_file+'_stats/'+subject_file+'_'+i+'_tck_md.csv', '/media/mabbottlab/temp_backup/Tommy/DTIs-analysis/'+subject_file+'/'+subject_file+'_stats/'+subject_file+'_'+i+'_tck_mean_md.txt')
	main('/media/mabbottlab/temp_backup/Tommy/DTIs-analysis/'+subject_file+'/'+subject_file+'_stats/'+subject_file+'_'+i+'_tck_rd.csv', '/media/mabbottlab/temp_backup/Tommy/DTIs-analysis/'+subject_file+'/'+subject_file+'_stats/'+subject_file+'_'+i+'_tck_mean_rd.txt')
	
 
